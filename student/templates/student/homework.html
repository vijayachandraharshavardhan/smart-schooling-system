{% extends "base.html" %}
{% block title %}Homework{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">ðŸ“š Student Homework</h2>

  <!-- Roll Number Form -->
  <form method="POST" class="text-center mb-4">
    {% csrf_token %}
    <input type="text" name="roll_number" class="form-control w-50 mx-auto mb-3"
           placeholder="Enter your Roll Number" required>
    <button type="submit" class="btn btn-primary">Show Homework</button>
  </form>

  {% if student %}
    <h4 class="text-center mb-3">
      Homework for Class: {{ student.student_class }}
    </h4>

    {% if homework_records %}
      <div class="table-responsive">
        <table class="table table-bordered table-striped">
          <thead class="table-light">
            <tr>
              <th>#</th>
              <th>Subject</th>
              <th>Description</th>
              <th>Due Date</th>
              <th>Last Updated</th>
            </tr>
          </thead>
          <tbody>
            {% for hw in homework_records %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ hw.subject.name }}</td>
              <td>{{ hw.description }}</td>
              <td>{{ hw.due_date|date:"M d, Y" }}</td>
              <td>{{ hw.updated_at|date:"M d, Y H:i" }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="text-center text-muted mt-3">No homework assigned yet.</p>
    {% endif %}
  {% endif %}

  {% if messages %}
    <div class="mt-3">
      {% for message in messages %}
        <!--<div class="alert alert-{{ message.tags }}">{{ message }}</div>-->
      {% endfor %}
    </div>
  {% endif %}
</div>
{% endblock %}
